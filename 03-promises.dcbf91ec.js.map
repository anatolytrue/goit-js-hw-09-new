{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAqBA,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAAKC,KACvB,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACLH,EACFF,EAAI,C,SAACH,E,MAAUC,IAEfG,EAAI,C,SAACJ,E,MAAUC,GAAO,GAEvBA,EAAM,G,CA3BAQ,SAASC,cAAc,SAM/BC,iBAAiB,UAEtB,SAAuBC,GACrBA,EAAEC,iBACF,MAAMC,EAASF,EAAEG,OAAOD,OAAOE,MACzBC,EAAOL,EAAEG,OAAOE,KAAKD,MACrBf,EAAQW,EAAEG,OAAOd,MAAMe,MAC7BE,QAAQC,IAAIL,EAAQG,EAAMhB,GAkB5B,SAAyBa,EAAQG,EAAMG,GACrC,IAAK,IAAIC,EAAI,EAAGA,GAAKP,EAAQO,GAAK,EAAE,CAElCtB,EAAcsB,EADFD,EAAQH,GAAQI,EAAI,IAE7BC,MAAK,EAACtB,SAAEA,EAAQC,MAAEA,MACjBJ,EAAA0B,OAAOC,QAAQ,uBAAqBxB,QAAiBC,MAAU,IAGhEwB,OAAM,EAACzB,SAAEA,EAAQC,MAAEA,MAClBJ,EAAA0B,OAAOG,QAAQ,sBAAoB1B,QAAiBC,MAAU,G,EAzBpE0B,CAAgBb,EAAQG,EAAMhB,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from \"notiflix\"\n\n\nconst form = document.querySelector('.form')\n// const firstDelay = document.querySelector('.delay')\n// const delayStep = document.querySelector('.step')\n// const amountPromises = document.querySelector('.amount')\n// const submitBtn = document.querySelector('.submit')\n\nform.addEventListener('submit', onClickCreate)\n\nfunction onClickCreate(e) {\n  e.preventDefault()\n  const amount = e.target.amount.value\n  const step = e.target.step.value\n  const delay = e.target.delay.value\n  console.log(amount, step, delay)\n\n  promisesCounter(amount, step, delay) \n}\n\nfunction createPromise(position, delay) {\n  return new Promise((res, rej) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        res({position, delay})\n      } else {\n        rej({position, delay})\n      }\n    }, delay)\n  })\n}\n\nfunction promisesCounter(amount, step, delay) {\n  for (let i = 1; i <= amount; i += 1){\n    let total = delay + step * (i - 1)\n    createPromise(i, total)\n      .then(({ position, delay }) => {\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`)\n        // console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)\n        // console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n      })\n  }\n}\n\n// createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$createPromise","position","delay","Promise","res","rej","shouldResolve","Math","random","setTimeout","document","querySelector","addEventListener","e","preventDefault","amount","target","value","step","console","log","delay1","i","then","Notify","success","catch","failure","$47d4ff9957288465$var$promisesCounter"],"version":3,"file":"03-promises.dcbf91ec.js.map"}